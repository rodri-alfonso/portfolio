---
import Link from './Link.astro'
import Github from 'assets/icons/github.astro'
import Linkedin from 'assets/icons/linkedin.astro'
import Brand from 'assets/brand.astro'
// import Contact from 'islands/Contact'
import Menu from 'components/Menu.astro'
import Burguer from 'components/Burguer.astro'
import Contact from 'components/Contact/index.astro'
---

<header id='header-id'>
	<Link href='/#' class='link-icon brand'>
		<Brand />
	</Link>
	<nav class='nav-desktop'>
		<Link href='/'>about</Link>
		<Link href='/experience'>experience</Link>
		<Link href='/projects'>projects</Link>
		<Contact>
			<Link href={null}>contact</Link>
		</Contact>
		<div class='divider'></div>
		<Link class='link-icon' href='https://github.com/rodri-alfonso' target='_blank' rel='noopener noreferrer'>
			<Github primary />
		</Link>
		<Link
			class='link-icon'
			href='https://www.linkedin.com/in/rodrigo-alfonso-/'
			target='_blank'
			rel='noopener noreferrer'
		>
			<Linkedin />
		</Link>
	</nav>
	<nav class='nav-mobile'>
		<Contact>
			<Link href={null}>contact</Link>
		</Contact>

		<Link href={null} id='burguer-button'>
			<Burguer id='burguer-icon' />
		</Link>
		<Menu id='menu' />
	</nav>
</header>

<script>
	const menuRef = document.getElementById('menu') as HTMLDialogElement
	const buttonRef = document.getElementById('burguer-button') as HTMLElement

	const iconRef = document.getElementById('burguer-icon') as HTMLInputElement

	buttonRef.addEventListener('click', () => {
		iconRef.checked = !iconRef.checked
		menuRef.open = !menuRef.open
	})
</script>

<style>
	header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		height: 6rem;

		position: sticky;
		top: 0;

		background: rgba(17, 17, 17, 0.47);
		box-shadow: 0 0.4rem 3rem rgba(0, 0, 0, 0.1);
		backdrop-filter: blur(8.3px);
		-webkit-backdrop-filter: blur(8.3px);
	}
	.nav-desktop {
		display: flex;
		gap: 1.2rem;
		justify-content: flex-end;
		align-items: center;
	}
	.nav-mobile {
		display: none;
	}
	.divider {
		height: 2rem;
		border: 1px solid var(--color-primary-opacity-30);
	}

	.link-icon {
		background-color: var(--color-primary-opacity-10);
		border-radius: 0.8rem;
		padding: 0.7rem 1.2rem;
		display: grid;
		place-items: center;
		cursor: pointer;
	}

	.brand {
		background-color: unset;
	}

	@media (max-width: 800px) {
		.nav-desktop {
			display: none;
		}
		.nav-mobile {
			display: flex;
			gap: 1.2rem;
		}
	}
</style>
